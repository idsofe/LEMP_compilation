yum install -y gcc gcc-c++ cmake ncurses-devel perl perl-devel libaio git


groupadd mysql
useradd -r -g mysql -s /bin/false mysql

cd /opt
wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26.tar.gz
tar -xzf mysql-5.7.26.tar.gz
cd mysql-5.7.26
mkdir bld
cd bld
cmake .. -DCMAKE_INSTALL_PREFIX:PATH=/usr/local/mysql -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/usr/local/boost
make -j$(nproc)
make install -j$(nproc)


cd /usr/local/mysql
mkdir mysql-files
chown mysql:mysql mysql-files
chmod 750 mysql-files
bin/mysqld --initialize --user=mysql > /root/temp_pw_mysql

bin/mysql_ssl_rsa_setup              
bin/mysqld_safe --user=mysql &
# Next command is optional
cp support-files/mysql.server /etc/init.d/mysqld
chmod +x /etc/init.d/mysqld

ln -s /usr/local/mysql/bin/* /usr/sbin/

chkconfig --add mysqld

systemctl start mysqld

ln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock


#ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass';



